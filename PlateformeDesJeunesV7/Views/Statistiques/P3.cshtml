@model Domain.Models.StatistiquesComptabilite;
@using System.Globalization
@{
    ViewBag.Title = "Statistiques";
    Layout = "_LayoutDashboard";
    var nfi = (NumberFormatInfo)CultureInfo.InvariantCulture.NumberFormat.Clone();
    nfi.NumberGroupSeparator = " ";
}


<div class="container-fluid p-4" style="
    background-color: white;">
    <div class="card mb-4">
        <div style="display:flex;justify-content:space-between;">
            <div class="card-header">
                <h3 class="mb-0">Dashboard</h3>
                <span>
                    Utiliser les filtres.
                </span>
            </div>
            <div class="card-header">
                @* if (User.IsInRole("Admin") || User.IsInRole("Gestionnaire"))
                {
                <a type="button" class="btn btn-info" asp-controller="Finances" asp-action="Add">Ajouter un candidat</a>
                }
                <a type="button" class="btn btn-primary" asp-controller="Finances" asp-action="SaisieBGExcel">Impression candidat</a>*@
            </div>
        </div>
        <!-- Card header -->
        <!-- Card body -->
        <div class="card-body">
            <!-- Form -->
            <form class="form-row mt-3" asp-action="P3" asp-controller="Statistiques" method="get">
                <div class="col-lg-6 col-md-6 col-12 mb-2">
                    <div class="w-md-50">
                        <input name="DateDu" id="Date" value="@ViewData["DateDu"]" type="date" class="form-control" placeholder="Date de départ">
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-12 mb-2">
                    <div class="w-md-50">
                        <input name="DateAu" value="@ViewData["DateAu"]" id="Date" type="date" class="form-control" placeholder="Date de fin">
                    </div>
                </div>
                <div class="col-lg-12 col-md-12 col-12 mb-2" style="text-align:right!important;">
                    <button type="submit" class="btn btn-outline-info me-2">Rechercher</button>
                    <a asp-action="P3" type="button" class="btn btn-outline-primary">Initialiser</a>
                </div>
            </form>
        </div>

    </div>


    <div class="row">
        <div class="col-xl-6 col-lg-6 col-md-12 col-12">
            <!-- Card -->
            <div class="card mb-4">
                <!-- Card body -->
                <div class="card-body">
                    <div class="d-flex align-items-center justify-content-between mb-3 lh-1">
                        <div>
                            <span class="font-size-xs text-uppercase font-weight-semi-bold">Montant budget fonctionnement</span>
                        </div>
                        <div>
                            <a target="_blank" asp-controller="Comptabilite" asp-action="BudgetFonctionnement"><span class=" fe fe-users font-size-lg text-primary"></span></a>
                        </div>
                    </div>
                    <h2 class="font-weight-bold mb-1">
                        @Model.MontantBudgetFonctionnement.GetValueOrDefault().ToString("#,##0.00", nfi)
                    </h2>
                    @*<span class="text-success font-weight-semi-bold"><i class="fe fe-trending-up mr-1"></i>+1200</span>*@
                    <span class="ml-1 font-weight-medium">Montant budget fonctionnement</span>
                </div>
            </div>
        </div>

        <div class="col-xl-6 col-lg-6 col-md-12 col-12">
            <!-- Card -->
            <div class="card mb-4">
                <!-- Card body -->
                <div class="card-body">
                    <div class="d-flex align-items-center justify-content-between mb-3 lh-1">
                        <div>
                            <span class="font-size-xs text-uppercase font-weight-semi-bold">Montant budget financement</span>
                        </div>
                        <div>
                            <a target="_blank" asp-controller="Comptabilite" asp-action="BudgetFinancement"><span class=" fe fe-users font-size-lg text-primary"></span></a>
                        </div>
                    </div>
                    <h2 class="font-weight-bold mb-1">
                        @Model.MontantBudgetFinancement.GetValueOrDefault().ToString("#,##0.00", nfi)
                    </h2>
                    @*<span class="text-success font-weight-semi-bold"><i class="fe fe-trending-up mr-1"></i>+1200</span>*@
                    <span class="ml-1 font-weight-medium">Montant budget financement</span>
                </div>
            </div>
        </div>

        <div class="col-xl-6 col-lg-6 col-md-12 col-12">
            <!-- Card -->
            <div class="card mb-4">
                <!-- Card body -->
                <div class="card-body">
                    <div class="d-flex align-items-center justify-content-between mb-3 lh-1">
                        <div>
                            <span class="font-size-xs text-uppercase font-weight-semi-bold">Reste fonctionnement</span>
                        </div>
                        <div>
                            <a target="_blank" asp-controller="Comptabilite" asp-action="BudgetFonctionnement"><span class=" fe fe-users font-size-lg text-primary"></span></a>
                        </div>
                    </div>
                    <h2 class="font-weight-bold mb-1">
                        @Model.ResteFonctionnement.GetValueOrDefault().ToString("#,##0.00", nfi)
                    </h2>
                    @*<span class="text-success font-weight-semi-bold"><i class="fe fe-trending-up mr-1"></i>+1200</span>*@
                    <span class="ml-1 font-weight-medium">Reste fonctionnement</span>
                </div>
            </div>
        </div>

        <div class="col-xl-6 col-lg-6 col-md-12 col-12">
            <!-- Card -->
            <div class="card mb-4">
                <!-- Card body -->
                <div class="card-body">
                    <div class="d-flex align-items-center justify-content-between mb-3 lh-1">
                        <div>
                            <span class="font-size-xs text-uppercase font-weight-semi-bold">Reste financement</span>
                        </div>
                        <div>
                            <a target="_blank" asp-controller="Comptabilite" asp-action="BudgetFinancement"><span class=" fe fe-users font-size-lg text-primary"></span></a>
                        </div>
                    </div>
                    <h2 class="font-weight-bold mb-1">
                        @Model.ResteFinancement.GetValueOrDefault().ToString("#,##0.00", nfi)
                    </h2>
                    @*<span class="text-success font-weight-semi-bold"><i class="fe fe-trending-up mr-1"></i>+1200</span>*@
                    <span class="ml-1 font-weight-medium">Reste financement</span>
                </div>
            </div>
        </div>


        <div class="separator"></div>


        <div class="col-xl-6 col-lg-6 col-md-12 col-12">
            <!-- Card -->
            <div class="card mb-4">
                <!-- Card body -->
                <div class="card-body">
                    <div class="d-flex align-items-center justify-content-between mb-3 lh-1">
                        <div>
                            <span class="font-size-xs text-uppercase font-weight-semi-bold">Montant chapitre</span>
                        </div>
                        <div>
                            <a target="_blank" asp-controller="Comptabilite" asp-action="Chapitres"> <span class=" fe fe-user-check font-size-lg text-primary"></span></a>
                        </div>
                    </div>
                    <h2 class="font-weight-bold mb-1">
                        @Model.MontantChapitre.GetValueOrDefault().ToString("#,##0.00", nfi)
                    </h2>
                    @*<span class="text-success font-weight-semi-bold"><i class="fe fe-trending-up mr-1"></i>+200</span>*@
                    <span class="ml-1 font-weight-medium">Nombres : @Model.NombreChapitre</span>
                </div>
            </div>
        </div>

        <div class="col-xl-6 col-lg-6 col-md-12 col-12">
            <!-- Card -->
            <div class="card mb-4">
                <!-- Card body -->
                <div class="card-body">
                    <div class="d-flex align-items-center justify-content-between mb-3 lh-1">
                        <div>
                            <span class="font-size-xs text-uppercase font-weight-semi-bold">Montant fonctionnement</span>
                        </div>
                        <div>
                            <a target="_blank" asp-controller="Comptabilite" asp-action="Fonctionnements"> <span class="fe fe-shopping-bag font-size-lg text-primary"></span></a>
                        </div>
                    </div>
                    <h2 class="font-weight-bold mb-1">
                        @Model.MonantFonctionnement.GetValueOrDefault().ToString("#,##0.00", nfi)
                    </h2>
                    @*<span class="text-success font-weight-semi-bold"><i class="fe fe-trending-up mr-1"></i>+20.9$</span>*@
                    <span class="ml-1 font-weight-medium">Nombres : @Model.NombreFonctionnement</span>
                </div>
            </div>
        </div>

        <div class="separator"></div>

        <div class="col-xl-6 col-lg-6 col-md-12 col-12">
            <!-- Card -->
            <div class="card mb-4">
                <!-- Card body -->
                <div class="card-body">
                    <div class="d-flex align-items-center justify-content-between mb-3 lh-1">
                        <div>
                            <span class="font-size-xs text-uppercase font-weight-semi-bold">Montant financement débit</span>
                        </div>
                        <div>
                            <a target="_blank" asp-controller="Comptabilite" asp-action="Financements" asp-route-Type="1">   <span class=" fe fe-user-check font-size-lg text-primary"></span></a>
                        </div>
                    </div>
                    <h2 class="font-weight-bold mb-1">
                        @Model.MontantFinancementDebit.GetValueOrDefault().ToString("#,##0.00", nfi)
                    </h2>
                    @*<span class="text-success font-weight-semi-bold"><i class="fe fe-trending-up mr-1"></i>+200</span>*@
                    <span class="ml-1 font-weight-medium">Nombres : @Model.NombreFinancementDebit</span>
                </div>
            </div>
        </div>

        <div class="col-xl-6 col-lg-6 col-md-12 col-12">
            <!-- Card -->
            <div class="card mb-4">
                <!-- Card body -->
                <div class="card-body">
                    <div class="d-flex align-items-center justify-content-between mb-3 lh-1">
                        <div>
                            <span class="font-size-xs text-uppercase font-weight-semi-bold">Montant financement crédit</span>
                        </div>
                        <div>
                            <a target="_blank" asp-controller="Comptabilite" asp-action="Financements" asp-route-Type="2"><span class=" fe fe-users font-size-lg text-primary"></span></a>
                        </div>
                    </div>
                    <h2 class="font-weight-bold mb-1">
                        @Model.MontantFinancementCredit.GetValueOrDefault().ToString("#,##0.00", nfi)
                    </h2>
                    @*<span class="text-success font-weight-semi-bold"><i class="fe fe-trending-up mr-1"></i>+1200</span>*@
                    <span class="ml-1 font-weight-medium">Nombres : @Model.NombreFinancementCredit</span>
                </div>
            </div>
        </div>

        
@section Scripts{

       

  }

